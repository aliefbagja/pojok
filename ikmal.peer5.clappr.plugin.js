!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="/",t(0)}([function(e,t,n){e.exports=n(84)},function(e,t){"use strict";function n(){function e(){var e=r()-a;return e<0?0:e}function t(){return"Stopwatch("+e()+"ms)"}function n(){return a}var o=Object.create(null),a=r();return o.elapsed=e,o.toString=t,o.epoch=n,o}var r=function(){return Math.floor(performance.now())};e.exports=n,e.exports.now=r},function(e,t,n){"use strict";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,n,r,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var i=new o(n,r||e,a),s=c?c+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],i]:e._events[s].push(i):(e._events[s]=i,e._eventsCount++),e}function i(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}var u=Object.prototype.hasOwnProperty,c="~";Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(c=!1)),s.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)u.call(e,t)&&n.push(c?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},s.prototype.listeners=function(e){var t=c?c+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,a=new Array(o);r<o;r++)a[r]=n[r].fn;return a},s.prototype.listenerCount=function(e){var t=c?c+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,r,o,a){var i=c?c+e:e;if(!this._events[i])return!1;var s,u,l=this._events[i],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,r),!0;case 5:return l.fn.call(l.context,t,n,r,o),!0;case 6:return l.fn.call(l.context,t,n,r,o,a),!0}for(u=1,s=new Array(d-1);u<d;u++)s[u-1]=arguments[u];l.fn.apply(l.context,s)}else{var f,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,n);break;case 4:l[u].fn.call(l[u].context,t,n,r);break;default:if(!s)for(f=1,s=new Array(d-1);f<d;f++)s[f-1]=arguments[f];l[u].fn.apply(l[u].context,s)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,n,r){var o=c?c+e:e;if(!this._events[o])return this;if(!t)return i(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||r&&!a.once||n&&a.context!==n||i(this,o);else{for(var s=0,u=[],l=a.length;s<l;s++)(a[s].fn!==t||r&&!a[s].once||n&&a[s].context!==n)&&u.push(a[s]);u.length?this._events[o]=1===u.length?u[0]:u:i(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=c?c+e:e,this._events[t]&&i(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=c,s.EventEmitter=s,e.exports=s},function(e,t,n){"use strict";function r(e){var t=window.peer5,n=t?t.getConfig("MEDIA_MAX_BUFFER_HOLE"):.5,r=o(e.buffered,e.currentTime,n);return r.timeAhead}var o=n(13);e.exports=r},function(e,t){"use strict";e.exports=function(e,t,n){function r(e,t){return o.multiple?[].slice.call(e.querySelectorAll(t)):e.querySelector(t)}var o=n||{},a=t;return a="string"==typeof a?document.getElementById(a):a,a=a?a.tagName.toLowerCase()!==e?r(a,e):a:r(document,e),!a||Array.isArray(a)&&!a.length?null:a}},function(e,t){"use strict";e.exports=function(e,t){var n=e;return t&&t.ignoreQuery===!1||(n=(e||"").split("?")[0]),/\.m3u8(\?|#|$)/.test(n)?"hls":/\.mpd(\?|#|$)/.test(n)?"dash":/^(blob|mediasource):/i.test(n)?"mse":/\.(mp4|webm|ogg|ogv)(\?|#|$)/i.test(n)?"progressive":""}},function(e,t){"use strict";function n(e){function t(){return!e.globalsCondition||e.globalsCondition.every(function(e){return"undefined"!=typeof window[e]})}function n(){i||o||e.condition&&!e.condition()||t()&&(o=!0,r(),e.onConditionsMet())}function r(){i||(i=!0,clearInterval(a),document.removeEventListener("readystatechange",n),window.removeEventListener("load",n),e.globalsCondition&&Object.keys(s).forEach(function(e){var t=s[e],n=Object.getOwnPropertyDescriptor(window,e);n&&n.set===t&&delete window[e]}))}var o,a,i,s={},u=e.checkInterval||1;return a=setInterval(n,u),document.addEventListener("readystatechange",n),window.addEventListener("load",n),e.globalsCondition&&e.globalsCondition.forEach(function(e){function t(t){delete s[e],Object.defineProperty(window,e,{value:t,writable:!0,configurable:!0,enumerable:!0}),n()}"undefined"==typeof window[e]&&(s[e]=t,Object.defineProperty(window,e,{configurable:!0,enumerable:!0,set:t}))}),n(),{stop:r}}e.exports=n},function(e,t,n){"use strict";function r(e){function t(e,t){p.emit(e,y(e,t))}function n(e){var t=e&&e.tagName&&e.tagName.toLowerCase();t&&/^(video|audio|object|embed)$/.test(t)&&(g=t,h=e)}function r(){if("function"==typeof f.getBufferLength)return f.getBufferLength();switch(g){case"video":case"audio":return i(h);case"object":case"embed":return s(h);default:return 0}}function o(e){f=c({},f,e),f.element&&n(f.element)}function d(){p.emit("remove"),p.removeAllListeners()}var f,p=new a;p.instanceId=l++;var h,g,y=u(p.instanceId);return o(e),p.onEvent=t,p.getBufferLength=r,p.useElement=n,p.mergeOptions=o,p.destroy=d,p}function o(e,t){var n=d[e];return n?t&&n.mergeOptions(t):n=d[e]=r(t),n}var a=n(2),i=n(3),s=n(9),u=n(10),c=n(8),l=1,d={};e.exports=o},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}var o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=r()?Object.assign:function(e,t){for(var r,s,u=n(e),c=1;c<arguments.length;c++){r=Object(arguments[c]);for(var l in r)a.call(r,l)&&(u[l]=r[l]);if(o){s=o(r);for(var d=0;d<s.length;d++)i.call(r,s[d])&&(u[s[d]]=r[s[d]])}}return u}},function(e,t){"use strict";e.exports=function(e){if(e.getbufferLength)try{return e.getbufferLength()}catch(e){}if(e.vjs_getProperty)try{return(e.vjs_getProperty("buffered")||NaN)-(e.vjs_getProperty("currentTime")||NaN)||0}catch(e){}return 0}},function(e,t,n){"use strict";function r(e){var t=null,n=null,r=null,a=null,i=null,s=null,u=0,c=0;return function(l,d){var f={action:l,id:e};switch(s=s||o(),l){case"rebuffer.start":i=i||o(),u++,t=o(),f.timeSinceLoaded=i.elapsed(),f.occurrence=u;break;case"rebuffer.end":i=i||o(),t&&(f.duration=t.elapsed()),f.timeSinceLoaded=i.elapsed(),f.occurrence=u,t=null;break;case"seek.start":i=i||o(),c++,n=o(),f.timeSinceLoaded=i.elapsed(),f.occurrence=c;break;case"seek.end":i=i||o(),n&&(f.duration=n.elapsed()),f.timeSinceLoaded=i.elapsed(),f.occurrence=c,n=null;break;case"load.start":var p=d&&d.delayed||0;r=o(),a=p,f.timeSinceReady=s.elapsed()-p;break;case"load.end":if(!d||d.ignoreDuration!==!0){var h=r&&r.elapsed()+(a||0);a=null,h&&(f.duration=h)}i=o();break;case"fps.drop":case"fps.drop.raw":case"bitsDecoded":d&&d.count&&(f.value=d.count);break;case"ready":case"pause.start":case"pause.end":break;case"error":d instanceof Error?f=d:(f.source=d.source,f.code=d.code,f.message=d.message);break;case"ad.start":case"ad.end":f=null;break;default:f=null}return f}}var o=n(1);e.exports=r},function(e,t){"use strict";function n(e){if("number"==typeof e.webkitDroppedFrameCount)return{total:e.webkitDecodedFrameCount,dropped:e.webkitDroppedFrameCount};if("function"==typeof e.getVideoPlaybackQuality){var t=e.getVideoPlaybackQuality();if("number"==typeof t.droppedVideoFrames)return{total:t.totalVideoFrames,dropped:t.droppedVideoFrames}}return"number"==typeof e.mozDecodedFrames&&"number"==typeof e.mozPresentedFrames?{total:e.mozDecodedFrames,dropped:e.mozDecodedFrames-e.mozPresentedFrames}:{total:0,dropped:0}}e.exports=n},function(e,t,n){"use strict";var r=n(4);e.exports=function(e){var t,n=e||{};return("string"==typeof e||e instanceof HTMLElement)&&(n={id:e}),t=r("video",n.id,{multiple:n.multiple}),n.includeAudioTag&&!t&&(t=r("audio",n.id,{multiple:n.multiple})),n.html5Only||t||(t=r("object",n.id,{multiple:n.multiple})),n.html5Only||t||(t=r("embed",n.id,{multiple:n.multiple})),t}},function(e,t){"use strict";function n(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t.sort(function(e,t){var n=e.start-t.start;return n?n:t.end-e.end}),t}function r(e,t){return e.reduce(function(e,n){var r=e.length;if(r){var o=e[r-1];if(n.start-o.end<t)return n.end>o.end&&(o.end=n.end),e}return e.push({start:n.start,end:n.end}),e},[])}function o(e,t,o){for(var a=o||0,i=t||0,s=n(e),u=r(s,a),c={rangeStart:0,rangeEnd:0,rangeLength:0,timeAhead:0},l=0,d=u.length;l<d;l++){var f=u[l].start,p=u[l].end,h=Math.ceil(1e3*i)/1e3,g=Math.ceil(1e3*f)/1e3,y=Math.ceil(1e3*p)/1e3;if(h+a>=g&&h<=y){c.rangeStart=Math.min(g,h),c.rangeEnd=y,c.rangeLength=y-c.rangeStart,c.timeAhead=y-h;break}}return c}e.exports=o},function(e,t){"use strict";function n(e){var t=8*e.webkitVideoDecodedByteCount||0,n=8*e.webkitAudioDecodedByteCount||0;return t||n?{video:t,audio:n,total:t+n}:{video:0,audio:0,total:0}}e.exports=n},function(e,t,n){"use strict";function r(e,t,n){function r(e){return"progressive"===e&&(h||g||y)}function a(){var n=e.currentSrc||e.src;if(n){var a=o(n,{ignoreQuery:l.ignoreQuery}),i=f&&"hls"===a,s=p&&"dash"===a,u=l.allowProgressiveVideos&&r(a),d="mse"===a,h=/^(blob|mediasource):(https?(%3A|:)\/\/)[^\/]*youtube\.com\//i.test(n);i||s||d&&!h||u?c&&(c=!1,t("ad.end")):c||(c=!0,t("ad.start"))}}function i(){d.forEach(function(t){e.addEventListener(t,a)})}function s(){d.forEach(function(t){e.removeEventListener(t,a)})}function u(){s()}var c,l=n||{},d=["abort","canplay","canplaythrough","durationChange","emptied","encrypted","ended","error","interruptbegin","interruptend","loadeddata","loadedmetadata","seeked","seeking","volumechange","waiting","loadstart","pause","play","playing","suspend"],f=e.canPlayType&&(e.canPlayType("application/x-mpegURL")||e.canPlayType("vnd.apple.mpegURL")||e.canPlayType("audio/mpegurl"));f=Boolean(f);var p=Boolean(e.canPlayType&&e.canPlayType("application/dash+xml")),h=Boolean(e.canPlayType&&e.canPlayType("video/mp4")),g=Boolean(e.canPlayType&&e.canPlayType("video/webm")),y=Boolean(e.canPlayType&&e.canPlayType("video/ogg"));return i(),{adDetection:a,destroy:u}}var o=n(5);e.exports=r},function(e,t){"use strict";function n(e,t){function n(){var n,o=e.error;Object.keys(r).some(function(e){return!(!o||r[e]!==o.code)&&(n=e,!0)}),t("error",{source:"videoTag",code:n||"UNKNOWN_ERROR_"+(o&&o.code||"UNDEFINED"),message:o&&o.message||""})}function o(){e.removeEventListener("error",n)}return e.addEventListener("error",n),{destroy:o}}var r={MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4};e.exports=n},function(e,t,n){"use strict";function r(e,t,n){function r(e,n){t(e,n)}function l(){k||(k=!0,r("load.start",{delayed:N&&N.elapsed()||0}))}function d(e){I||(I=!0,l(),r("load.end",{ignoreDuration:Boolean(e&&e.ignoreDuration)}))}function f(){F||(D&&(D=!1,r("pause.end")),I||d({ignoreDuration:Boolean(!N)}))}function p(){A.play()}function h(e){e||k||clearTimeout(C),F&&(F=!1,r("ad.end")),k&&!I&&d({ignoreDuration:!0}),O&&(O=!1,r("rebuffer.end")),M&&(M=!1,r("seek.end")),!D&&k&&(D=!0,r("pause.start"))}function g(){T.forEach(function(e){w.addEventListener(e,A[e])})}function y(){w&&T.forEach(function(e){w.removeEventListener(e,A[e])})}function v(){h(),S&&S.destroy(),_&&_.destroy(),x&&x.destroy(),L&&L.destroy(),y(),clearTimeout(R),clearTimeout(C)}function m(){S&&S.destroy(),S=u(w,function(e){A[e]()},E),_&&_.destroy(),_=a(w,function(e){A[e]()},E),x&&x.destroy(),x=i(w,function(e,t){F||r(e,t)},E),L=s(w,function(e,t){F||r(e,t)})}function b(e,t){y(),h(t),w=o("video",e)||o("audio",e),m(),g(),A.ready()}var w,E=n||{},T=["pause","play","playing","canplaythrough","progress"];E.droppedFramesSampleRate=E.droppedFramesSampleRate||5e3,E.droppedFramesThreshold=E.droppedFramesThreshold||.2,E.bitsDecodedSampleRate=E.bitsDecodedSampleRate||5e3,E.loadStartMaxDelay=E.loadStartMaxDelay||4e3;var _,S,x,L,R,A,C,D=!1,k=!1,I=!1,M=!1,O=!1,F=!1,P=!1,N=null;return A={ready:function(){P||(P=!0,r("ready")),S.adDetection(),!w.paused&&w.currentTime?A.playing():w.autoplay&&p()},playing:f,canplaythrough:function(){!D&&w.currentTime&&f()},progress:function(){w.paused||f()},pause:function(){clearTimeout(C),F||!D&&k&&(D=!0,r("pause.start"))},play:function(){F||(N=N||c(),clearTimeout(C),C=setTimeout(function(){l()},E.loadStartMaxDelay))},"seek.start":function(){F||(k&&!I&&d({ignoreDuration:!0}),M=!0,r("seek.start"))},"seek.end":function(){F||(M=!1,r("seek.end"))},"rebuffer.end":function(){F||(O=!1,r("rebuffer.end"))},"rebuffer.start":function(){F||(O=!0,r("rebuffer.start"))},"ad.start":function(){F||(k&&!I&&r("error",new Error("Ad loaded while load.starting")),h(),F=!0,r("ad.start"))},"ad.end":function(){F&&(F=!1,r("ad.end"))}},R=setTimeout(function(){w||b(e,!0)},0),{forceLoadStart:p,useElement:b,destroy:v}}var o=n(4),a=n(19),i=n(18),s=n(16),u=n(15),c=n(1);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){function r(){clearInterval(i),clearInterval(s)}var i,s,u={},c={};return i=setInterval(function(){var r=o(e),a=r.total-u.total,i=r.dropped-u.dropped;i>0&&t("fps.drop.raw",{count:i}),a&&i>0&&i/a>n.droppedFramesThreshold&&t("fps.drop",{count:i}),u=r},n.droppedFramesSampleRate),s=setInterval(function(){var n=a(e),r=n.total-c.total;r>0&&t("bitsDecoded",{count:r}),c=n},n.bitsDecodedSampleRate),{destroy:r}}var o=n(11),a=n(14);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){function r(){var t=o(e),n=!O&&F!==t;return O=!1,F=t,n}function i(){return!(!e.paused||!N&&!j)&&r()}function s(){return R&&_===R&&!S&&!L}function u(){return q||(q=_),_-q>=k}function c(){return L}function l(){return P}function d(){if(!s()&&(B=null,N))return c()||l()||u()}function f(){if(s()&&(q=null,!N))return B||(B=a()),B.elapsed()>=D}function p(){f()?(N=!0,B=null,t("rebuffer.start")):d()&&(N=!1,q=null,t("rebuffer.end"))}function h(){return x&&!S}function g(){return U||(U=_),_-U>M}function y(){return P}function v(){if(!h()&&(H=null,j))return y()||g()}function m(){if(h()&&(U=null,!j))return H||(H=a()),H.elapsed()>I}function b(){m()?(j=!0,H=null,t("seek.start")):v()&&(j=!1,U=null,t("seek.end"))}function w(){clearInterval(T),T=setInterval(function(){e.paused||(O=!0),(!e.paused||N||j)&&(_=1e3*e.currentTime,S=e.paused,x=e.seeking,L=x||j,P=i(),p(),b(),R=_)},C)}function E(){clearInterval(T)}var T,_,S,x,L,R,A=n||{},C=A.sampleRate||50,D=A.bufferEnterThreshold||250,k=A.bufferExitThreshold||250,I=A.seekEnterThreshold||250,M=A.seekExitThreshold||100,O=!0,F=null,P=!1,N=!1,B=null,q=null,j=!1,H=null,U=null;return w(),{destroy:E}}var o=n(3),a=n(1);e.exports=r},,,function(e,t){"use strict";e.exports=window.XMLHttpRequest},function(e,t,n){"use strict";function r(e){var t;this.destroy=function(){t&&t.destroy()},this.abort=function(){t&&t.abort()},this.load=function(){t=3===arguments.length?new a(e):new o(e),t.load.apply(t,arguments),this.context=t.context,this.stats=t.stats,this.frag=t.frag}}var o=n(25),a=n(26);e.exports=r},,function(e,t){"use strict";function n(e,t,n,r){var o=Math.max(n,r()-window.peer5.getConfig("MINIMUM_HTTP_CONSTRAINT"));[t,e].forEach(function(t){Object.defineProperty(t,"trequest",{configurable:!0,set:function(){},get:function(){return e._delay?performance.now()-e._delay:o}})})}function r(e,t){if(e.currentTarget.getSpeed){var n=t,r=e.currentTarget.getSpeed();r&&(n._delay=1e3*(e.loaded/r),n.tfirst=n.trequest)}}function o(e){e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup),this.destroy=function(){this.abort(),this.loader=null},this.abort=function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},this.load=function(e,t,n,r,o,a,i,s,u,c){this.url=e,!c||Number.isNaN(c.byteRangeStartOffset)||Number.isNaN(c.byteRangeEndOffset)||(this.byteRange=c.byteRangeStartOffset+"-"+(c.byteRangeEndOffset-1)),this.responseType=t,this.onSuccess=n,this.onProgress=u,this.onTimeout=o,this.onError=r,this._trequest=performance.now(),this.stats={trequest:this._trequest,retry:0},this.timeout=window.peer5.getConfig("MEDIA_FRAGMENT_TIMEOUT")||a,this.maxRetry=i,this.retryDelay=s,this.frag=c,this.loadInternal()},this.loadInternal=function(){var e;e="arraybuffer"===this.responseType?this.loader=new window.peer5.FragmentRequest:this.loader=new window.peer5.PlaylistRequest,e.onprogress=this.loadprogress.bind(this),e.onloadend=this.loadend.bind(this),e.open("GET",this.url,!0),this.byteRange&&e.setRequestHeader("Range","bytes="+this.byteRange),e.responseType=this.responseType;var t=this.stats;t.tfirst=0,t.loaded=0,this.xhrSetup&&this.xhrSetup(e,this.url),this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.timeout),e.send(),e._constraint&&window.peer5.getConfig("MEDIA_HLSJS_OVERRIDE")&&n(t,this.frag,this._trequest,e._constraint)},this.loadend=function(e){var t=e.currentTarget,n=t.status,o=this.stats;o.aborted||(window.clearTimeout(this.requestTimeout),n>=200&&n<300?(window.peer5.getConfig("MEDIA_HLSJS_OVERRIDE")&&r(e,o),o.tload=Math.max(o.tfirst,performance.now()),this.onSuccess(e,o)):o.retry>=this.maxRetry||n>=400&&n<499?this.onError(e):(this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,64e3),o.retry++))},this.loadtimeout=function(e){this.onTimeout(e,this.stats)},this.loadprogress=function(e){var t=this.stats;e.loadedHTTP>0&&window.peer5.getConfig("MEDIA_HLSJS_OVERRIDE")&&r(e,t),0===t.tfirst&&(t.tfirst=Math.max(performance.now(),t.trequest)),t.loaded=e.loaded,this.onProgress&&this.onProgress(e,t)}}e.exports=o},function(e,t){"use strict";function n(e,t,n){var r=Math.max(t,n()-window.peer5.getConfig("MINIMUM_HTTP_CONSTRAINT"));Object.defineProperty(e,"trequest",{configurable:!0,set:function(){},get:function(){return e._delay?performance.now()-e._delay:r}})}function r(e,t){if(e.currentTarget.getSpeed){var n=e.currentTarget.getSpeed();n&&(t._delay=1e3*(e.loaded/n),t.tfirst=t.trequest)}}function o(e){e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup),this.destroy=function(){this.abort(),this.loader=null},this.abort=function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},this.load=function(e,t,n){this.context=e,this.config=t,this.callbacks=n,this.trequest=performance.now(),this.stats={trequest:this.trequest,retry:0},this.retryDelay=t.retryDelay,this.loadInternal()},this.loadInternal=function(){var e,t=this.context;e="arraybuffer"===t.responseType?this.loader=new window.peer5.FragmentRequest:this.loader=new window.peer5.PlaylistRequest;var r=this.stats;r.tfirst=0,r.loaded=0,e.getSpeed&&window.peer5.getConfig("ALWAYS_OVERRIDE_BW")&&(r.bw=e.getSpeed());var o=this.xhrSetup;try{if(o)try{o(e,t.url)}catch(n){e.open("GET",t.url,!0),o(e,t.url)}e.readyState||e.open("GET",t.url,!0)}catch(n){return void this.callbacks.onError({code:e.status,text:n.message},t)}t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType;var a=window.peer5.getConfig("MEDIA_FRAGMENT_TIMEOUT")||this.config.timeout;this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),a),e.send(),e._constraint&&window.peer5.getConfig("MEDIA_HLSJS_OVERRIDE")&&n(r,this.trequest,e._constraint)},this.readystatechange=function(e){var t=e.currentTarget,n=t.readyState,o=this.stats,a=this.context,i=this.config;if(!o.aborted&&n>=2)if(window.clearTimeout(this.requestTimeout),0===o.tfirst&&(o.tfirst=Math.max(performance.now(),o.trequest)),4===n){var s=t.status;if(s>=200&&s<300){window.peer5.getConfig("MEDIA_HLSJS_OVERRIDE")&&r(e,o),o.tload=Math.max(o.tfirst,performance.now());var u,c;"arraybuffer"===a.responseType?(u=t.response,c=u.byteLength):(u=t.responseText,c=u.length),t.getSpeed&&(o.bw=t.getSpeed()),o.loaded=o.total=c;var l={url:t.responseURL||a.url,data:u};this.callbacks.onSuccess(l,o,a,t)}else o.retry>=i.maxRetry||s>=400&&s<499?this.callbacks.onError({code:s,text:t.statusText},a,t):(this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,i.maxRetryDelay),o.retry++)}else{var d=window.peer5.getConfig("MEDIA_FRAGMENT_TIMEOUT")||this.config.timeout;this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),d||i.timeout)}},this.loadtimeout=function(){this.callbacks.onTimeout(this.stats,this.context,null)},this.loadprogress=function(e){var t=e.currentTarget,n=this.stats;e.loadedHTTP>0&&window.peer5.getConfig("MEDIA_HLSJS_OVERRIDE")&&r(e,n),n.loaded=e.loaded,t.getSpeed&&(n.bw=t.getSpeed()),e.lengthComputable&&(n.total=e.total);var o=this.callbacks.onProgress;o&&o(n,this.context,null,t)}}e.exports=o},,,,function(e,t){"use strict";function n(){var e=document.createElement("span");return e.style.cssText=o,e.innerHTML=r,e}var r="Peer5 demo account",o="background-color:#000;color:#fff;font-size:14px;left:0;position:absolute;top:0;z-index:2147483645;",a=document.location.hostname;e.exports=function(e){if(window.peer5.getConfig("MEDIA_WATERMARK")===!0&&"peer5.com"!==a.substr(-9)){var t=e.parentElement;if(t){var r=getComputedStyle(t);["relative","absolute","fixed"].indexOf(r.position)===-1&&(t.style.position="relative");var o=n();t.insertBefore(o,e)}}}},,function(e,t){"use strict";function n(e,t){if(e in r){var n,o=r[e];for(n in t){if(!(n in o))return!1;if(typeof t[n]!==o[n].type)return!1}for(var a in o)if(o[a].required&&typeof t[a]!==o[a].type)return!1;return!0}return!1}var r={player:{action:{type:"string",required:!0},label:{type:"string",required:!0},value:{type:"number",required:!1},timeSinceLoaded:{type:"number",required:!1},duration:{type:"number",required:!1},vendor:{type:"string",required:!0},id:{type:"string",required:!0},occurrence:{type:"number",required:!1},timeSinceReady:{type:"number",required:!1}}};e.exports=function(e,t){n(e,t)&&radio("external."+e).broadcast(t)}},function(e,t,n){"use strict";function r(){function e(e,t){void 0===r[e]&&(r[e]=o(e,t))}function t(e,t){var o=r[e],a=o.getEvents(t);n("player",a)}function n(e,t){t.forEach(function(t){a(e,t)})}var r=Object.create(null);return{updateAction:t,initPlayer:e}}var o=n(34),a=n(32);e.exports=r()},function(e,t){"use strict";function n(e,t){function n(){if(h)return[];if(g)return[];w++,h=Date.now();var e=Date.now()-v,t={action:"rebuffer.start",label:"playback",timeSinceLoaded:e,id:f,vendor:p,occurrence:w};return[t]}function r(){E++,g=Date.now();var e=Date.now()-v,t={action:"seek.start",label:"seek",timeSinceLoaded:e,id:f,vendor:p,occurrence:E};return[t]}function o(){var e=Date.now();if(!y){y=e;var t={action:"load.start",label:"load",id:f,vendor:p};return b&&(b=!1,m&&(t.timeSinceReady=e-m)),[t]}return[]}function a(){var e=Date.now();if(y){var t=e-y;y=null;var n={action:"load.end",label:"load",duration:t,id:f,vendor:p};return v=e,[n]}return[]}function i(){var e=Date.now();if(h){var t=e-h;h=null;var n=e-v,r={action:"rebuffer.end",label:"playback",timeSinceLoaded:n,duration:t,id:f,vendor:p,occurrence:w};return[r]}if(g){var t=e-g;g=null;var n=e-v,o={action:"seek.end",label:"seek",timeSinceLoaded:n,duration:t,id:f,vendor:p,occurrence:E};return[o]}return[]}function s(){m=Date.now(),b=!0;var e={action:"ready",label:"ready",id:f,vendor:p};return[e]}function u(){T=!0;var e={action:"pause.start",label:"pause",id:f,vendor:p};return[e]}function c(){var e={action:"stop",label:"stop",id:f,vendor:p};return[e]}function l(){T=!1;var e={action:"pause.end",label:"pause",id:f,vendor:p};return[e]}function d(e){var t=[];switch(e){case"ready":t=s();break;case"buffer":t=n();break;case"seek":t=r();break;case"loadStart":t=o();break;case"loadEnd":t=a();break;case"pause":t=u();break;case"stop":t=c();break;case"play":t=l();break;case"resume":t=i();break;default:console.error("unrecognized action:"+e)}return t}var f=e,p=t,h=null,g=null,y=null,v=null,m=null,b=!0,w=0,E=0,T=!0;return{getEvents:d}}e.exports=n},function(e,t,n){var r=n(22);!function(e){var t={},n={},o={},a=function(e){var n;return t[e]?t[e]:(n=window.document[e]?window.document[e]:document.getElementById(e),t[e]=n,n)},i=function(t){e.trigger("player",t)},s={error:function(t,n,r){e.error("flashls error #"+t+": "+r+" url: "+n)},requestPlaylist:function(t,o,i,s){var u=a(t),c=n[o]=e.getConfig("MEDIA_FALLBACK_ON_FLASH")?new r:new e.VideoRequest;c.open("GET",o),c.responseType="text",c.url=o,c.onload=function(e){var t=n[o];if(t)return(!this.response||this.status<200||this.status>=400)&&(delete n[o],u&&u.CallFunction)?u.CallFunction('<invoke name="'+s+'" returntype="xml"></invoke>'):(delete n[o],u&&u.CallFunction?u.CallFunction('<invoke name="'+i+'" returntype="xml"><arguments><string>'+this.response+"</string></arguments></invoke>"):void 0)},c.onerror=c.onabort=function(){var e=n[o];if(e&&(delete n[o],u&&u.CallFunction))return u.CallFunction('<invoke name="'+s+'" returntype="xml"></invoke>')},c.send()},abortPlaylist:function(e){var t=n;n={};for(var r in t){var o=t[r];o.onabort=null,o.abort()}},requestFragment:function(t,n,i,s){var u=a(t),c=o[n]=e.getConfig("MEDIA_FALLBACK_ON_FLASH")?new r:new e.VideoRequest;c.open("GET",n),c.responseType="arraybuffer",c.url=n,c.onload=function(t){var r=o[n];if(r){if((!this.response||this.status<200||this.status>=400)&&(delete o[n],u&&u.CallFunction))return u.CallFunction('<invoke name="'+s+'" returntype="xml"></invoke>');var a=this.response.byteLength;e.ab2b64(this.response,function(e){var t=o[n];if(t&&(delete o[n],u&&u.CallFunction))return u.CallFunction('<invoke name="'+i+'" returntype="xml"><arguments><string>'+e+"</string><number>"+a+"</number></arguments></invoke>")})}},c.onerror=c.onabort=function(){var e=o[n];if(e&&(delete o[n],u&&u.CallFunction))return u.CallFunction('<invoke name="'+s+'" returntype="xml"></invoke>')},c.send()},abortFragment:function(e){var t=o;o={};for(var n in t){var r=t[n];r.onabort=null,r.abort()}},fpsDrop:function(e,t){i({action:"fps.drop",label:e+"/"+t,value:t,timeSinceLoaded:0,duration:0,vendor:"",id:""})}};e.flashls={trigger:function(e,t){return!!s[e]&&(s[e].apply(s,t),!0)}}}(window.peer5=window.peer5||{})},function(e,t){!function(e){var t=window.Worker&&window.URL&&window.URL.createObjectURL&&window.Blob,n=function(e,t){for(var n=e.data?e.data:e,r=new Uint8Array(n),o="",a=0,i=r.length;a<i;a++)o+=String.fromCharCode(r[a]);var s=btoa(o);t?t(s):self.postMessage(s)};if(t){var r=window.URL.createObjectURL(new Blob(["onmessage="+n],{type:"text/javascript"})),o=new window.Worker(r),a=[];o.onmessage=function(e){var t=a.shift();t(e.data)}}e.ab2b64=function(e,r){t?(a.push(r),o.postMessage(e)):n(e,r)}}(window.peer5=window.peer5||{})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n(120)()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){"use strict";function n(e){function t(t){window.Clappr.ContainerPlugin.call(this,t),e._clapprEvents=this}return t.prototype=Object.create(window.Clappr.ContainerPlugin.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),t.type="container",t}e.exports=n},function(e,t,n){"use strict";function r(e,t){function r(){y||(y=!0,l.updateAction(e,"pause"))}function o(){l.updateAction(e,"stop"),g="not-loaded"}function a(){y&&(y=!1,l.updateAction(e,"play"))}function i(){l.updateAction(e,"seek"),p=!0}function s(){if(!p)return"not-loaded"===g?(l.updateAction(e,"loadStart"),void(g="in-progress")):void("done"===g&&(l.updateAction(e,"buffer"),h=!0))}function u(){"not-loaded"!==g&&("in-progress"===g&&(g="done",l.updateAction(e,"loadEnd")),(p||h)&&(l.updateAction(e,"resume"),p=!1,h=!1))}function c(){d.listenTo(d.container.playback,f.Events.PLAYBACK_PLAY,a),d.listenTo(d.container.playback,f.Events.PLAYBACK_PAUSE,r),d.listenTo(d.container.playback,f.Events.PLAYBACK_STOP,o),d.listenTo(d.container.playback,f.Events.PLAYBACK_ENDED,r),d.listenTo(d.container,f.Events.CONTAINER_SEEK,i),d.listenTo(d.container,f.Events.CONTAINER_STATE_BUFFERING,s),d.listenTo(d.container,f.Events.CONTAINER_STATE_BUFFERFULL,u)}var l=n(33),d=t._clapprEvents,f=window.Clappr,p=!1,h=!1,g="not-loaded",y=!1;d&&(c(),l.initPlayer(e,"clappr"),l.updateAction(e,"ready"))}e.exports=r},function(e,t,n){"use strict";function r(){var e=window.peer5;e.getConfig("DISABLE_PLUGINS")||e.getConfig("DISABLE_UNSUPPORTED")&&!e.isSupported()||(n(35),n(36),a(window.Clappr,window.peer5,i))}var o=n(6),a=n(122),i=n(121);e.exports=function(){o({onConditionsMet:r,globalsCondition:["peer5","Clappr"]})}},function(e,t,n){"use strict";function r(e,t){var n=e._options||e.options||{},r=n.parent||n.parentElement,o=n.autoPlay;if(t){var a=n.source||n.sources&&n.sources[0];!o&&a&&window.peer5.prefetch(a);var u="video"===t.tagName.toLowerCase(),d=u?"videoTag":"player",f=r&&r.id||t.id||"default",p=c(f,{element:t});window.peer5.attachPlayer(p),p.emit("media.info",{vendor:"clappr",provider:u?"hlsjs":"flash",tracking:d});var h;"videoTag"===d?(h=s(t,p.onEvent),o&&h.forceLoadStart()):"player"===d&&i(p.elementId,e);var g=e.destroy;e.destroy=function(){h&&h.destroy(),p.destroy(),g.apply(e,arguments)},l(t)}}function o(e,t){var n=e._options||e.options||{},r=n.parent||n.parentElement;return!r&&t.parent&&(r=t.parent),!r&&t&&"string"==typeof t.parentId&&(r=document.querySelector("#"+t.parentId.replace(/^#/,""))),u(r)}function a(e,t){function n(){var a=o(e,t);a&&(r(e,a),e.off(window.Clappr.Events.PLAYER_READY,n))}e.isReady?n():e.on(window.Clappr.Events.PLAYER_READY,n)}var i=n(119),s=n(17),u=n(12),c=n(7),l=n(30);e.exports=a},function(e,t,n){"use strict";function r(e,t,n){function r(e){var n=e,r=n.playback&&n.playback.hlsjsConfig||n.hlsjsConfig||{};n.playback=n.playback||{},n.playback.hlsjsConfig=n.hlsjsConfig=r;var a=t.getConfig("MEDIA_MAXBUFFER");n.lowBufferLength=n.lowBufferLength||t.getConfig("MEDIA_LOWBUFFER"),n.minBufferLength=n.minBufferLength||t.getConfig("MEDIA_MINBUFFER"),n.minBufferLengthCapping=n.minBufferLengthCapping||t.getConfig("MEDIA_MINBUFFER_LENGTH_CAPPING"),n.maxBufferLength=n.maxBufferLength||a,r.maxBufferLength=r.maxBufferLength||a,r.maxMaxBufferLength=r.maxMaxBufferLength||a,r.maxBufferHole=r.maxBufferHole||t.getConfig("MEDIA_MAX_BUFFER_HOLE"),r.maxSeekHole=r.maxSeekHole||t.getConfig("MEDIA_MAX_SEEK_HOLE"),r.manifestLoadingTimeOut=r.levelLoadingTimeOut=t.getConfig("MEDIA_MANIFEST_TIMEOUT"),r.manifestLoadingMaxRetry=r.levelLoadingMaxRetry=t.getConfig("MEDIA_MANIFEST_RETRIES"),r.manifestLoadingRetryDelay=r.levelLoadingRetryDelay=t.getConfig("MEDIA_MANIFEST_RETRY_DELAY"),r.fragLoadingTimeOut=t.getConfig("MEDIA_FRAGMENT_TIMEOUT"),r.fragLoadingMaxRetry=t.getConfig("MEDIA_FRAGMENT_RETRIES"),r.fragLoadingRetryDelay=t.getConfig("MEDIA_FRAGMENT_RETRY_DELAY"),r.fLoader=o,r.pLoader=o,r.debug=r.debug||t.getConfig("MEDIA_HLSJS_DEBUG")}function i(e,t){var n=a(t),r=e;r.plugins?Array.isArray(r.plugins)?r.plugins.push(n):(r.plugins.container=r.plugins.container||[],r.plugins.container.push(n)):r.plugins={container:[n]}}function s(){var e=l.FlasHLS.prototype.createCallbacks||l.FlasHLS.prototype._createCallbacks;l.FlasHLS.prototype._createCallbacks=l.FlasHLS.prototype.createCallbacks=function(){e.call(this);var n=this.cid,r=l.flashlsCallbacks[this.cid];l.flashlsCallbacks[this.cid]=function(e,o){o[0]=o[0]||n,t.flashls.trigger(e,o)||r(e,o)}}}function u(){var e=l.FlasHLS.prototype.setFlashSettings||l.FlasHLS.prototype._setFlashSettings;l.FlasHLS.prototype._setFlashSettings=l.FlasHLS.prototype.setFlashSettings=function(){e.call(this),this.el.playerSetJSURLStream(!0)}}function c(e){e=e||{},r(e),i(e,this),d.call(this,e),n(this,e)}var l=e,d=l.Player;s(),u(),c.prototype=Object.create(d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),l.Player=c,l._shimmed_=!0}var o=n(23),a=n(118);e.exports=r}]);